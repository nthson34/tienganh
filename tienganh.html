<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>English Speaking Practice</title>

<style>
:root{
  --primary:#FF6B6B;
  --secondary:#4ECDC4;
  --bg:#F7FFF7;
}
body{
  margin:0;
  padding:16px;
  font-family:'Comic Sans MS', cursive, sans-serif;
  background:var(--bg);
}
.container{
  max-width:520px;
  margin:auto;
  background:#fff;
  border-radius:26px;
  padding:18px;
  border:4px solid var(--secondary);
  box-shadow:0 12px 30px rgba(0,0,0,.12);
}
h1{
  text-align:center;
  color:var(--primary);
}
.note{
  text-align:center;
  font-size:14px;
  color:#666;
  margin-bottom:8px;
}
select{
  width:100%;
  padding:10px;
  border-radius:12px;
  font-size:16px;
  margin:10px 0;
}
.card{
  margin-top:14px;
  padding:18px;
  border-radius:20px;
  border:2px solid #eee;
}
.question{
  font-size:18px;
  font-weight:bold;
}
.answer{
  display:none;
  margin-top:12px;
  padding-top:10px;
  border-top:1px dashed #ccc;
  color:#2E7D32;
  font-style:italic;
  line-height:1.5;
  white-space:pre-line;
}
.buttons,.nav{
  display:flex;
  gap:10px;
  margin-top:14px;
}
.btn{
  flex:1;
  border:none;
  padding:12px;
  border-radius:14px;
  font-size:15px;
}
.listen{background:#FFD93D;}
.show{background:#6BCB77;color:white;}
.prev{background:#B0BEC5;}
.next{background:#FF6B6B;color:white;}
</style>
</head>

<body>

<div class="container">
<h1>üéà English Speaking</h1>
<div class="note">Gi·ªçng n·ªØ ‚Äì Anh M·ªπ | Nghe ‚Üí B√© n√≥i ‚Üí Xem ƒë√°p √°n</div>

<select id="unitSelect"></select>

<div class="card">
  <div class="question" id="question"></div>

  <div class="buttons">
    <button class="btn listen" onclick="speak()">üîä Nghe</button>
    <button class="btn show" onclick="toggle()">üëÄ ƒê√°p √°n</button>
  </div>

  <div class="answer" id="answer"></div>
</div>

<div class="nav">
  <button class="btn prev" onclick="prev()">‚¨ÖÔ∏è Tr∆∞·ªõc</button>
  <button class="btn next" onclick="next()">‚û°Ô∏è Ti·∫øp</button>
</div>
</div>

<script>
// ==================
// DATA ‚Äì ƒê√öNG B·ªò C√ÇU H·ªéI C·ª¶A B·∫†N
// ==================
const data = [
{
  name:"Unit 1: My Friend",
  q:[
    ["How do you spell your name?","It‚Äôs V ‚Äì I."],
    ["Where are you from?","I‚Äôm from C·∫ßn Th∆°."],
    ["Do your friends like dancing?","Yes, they do.\n(C√≥ th·ªÉ ƒë·ªïi: dancing ‚Üí singing / reading)"]
  ]
},
{
  name:"Unit 2: Family",
  q:[
    ["Who is this?","This is my mother.\n(C√≥ th·ªÉ ƒë·ªïi: father / grandfather / uncle)"],
    ["What‚Äôs her name?","Her name is Lan.\n(T√™n c√≥ th·ªÉ ƒë·ªïi theo gia ƒë√¨nh)"],
    ["Do you have a pet?","Yes, I do. I have a cat.\nHo·∫∑c: No, I don‚Äôt."]
  ]
},
{
  name:"Unit 3: School",
  q:[
    ["Is this your book?","Yes, it is.\nHo·∫∑c: No, it isn‚Äôt."],
    ["Are these your pens?","Yes, they are.\nHo·∫∑c: No, they aren‚Äôt."],
    ["Do you like English?","Yes, I do.\nHo·∫∑c: No, I don‚Äôt."],
    ["When do you have English?","I have English on Monday."]
  ]
},
{
  name:"Unit 4: Home",
  q:[
    ["Where‚Äôs your dad?","He is in the living room."],
    ["What‚Äôs he doing?","He is watching TV."],
    ["Who do you live with?","I live with my mom and dad.\nHo·∫∑c: I live with my family."],
    ["How many rooms are there in your house?","There are four rooms."]
  ]
}
];

// ==================
// FEMALE VOICE LOGIC
// ==================
let voices = [];
let femaleVoice = null;

function loadVoices(){
  voices = speechSynthesis.getVoices();
  femaleVoice = voices.find(v =>
    v.lang === "en-US" &&
    (v.name.toLowerCase().includes("female") ||
     v.name.toLowerCase().includes("samantha") ||
     v.name.toLowerCase().includes("zira"))
  ) || voices.find(v => v.lang === "en-US");
}

speechSynthesis.onvoiceschanged = loadVoices;

// ==================
// APP LOGIC
// ==================
let u = 0, i = 0;
const unitSelect = document.getElementById("unitSelect");
const questionEl = document.getElementById("question");
const answerEl = document.getElementById("answer");

data.forEach((unit,idx)=>{
  unitSelect.innerHTML += `<option value="${idx}">${unit.name}</option>`;
});

unitSelect.onchange = ()=>{
  u = unitSelect.value;
  i = 0;
  render();
};

function render(){
  questionEl.textContent = "üîä " + data[u].q[i][0];
  answerEl.textContent = data[u].q[i][1];
  answerEl.style.display = "none";
}

function next(){ if(i < data[u].q.length-1) i++; render(); }
function prev(){ if(i > 0) i--; render(); }

function toggle(){
  answerEl.style.display =
    answerEl.style.display==="block" ? "none" : "block";
}

function speak(){
  speechSynthesis.cancel();
  const s = new SpeechSynthesisUtterance(data[u].q[i][0]);
  s.lang = "en-US";
  s.rate = 0.8;
  if(femaleVoice) s.voice = femaleVoice;
  speechSynthesis.speak(s);
}

render();
</script>

</body>
</html>
